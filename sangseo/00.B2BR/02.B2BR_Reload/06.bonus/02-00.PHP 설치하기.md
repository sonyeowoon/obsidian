# PHP 선택 설치하기
~~다음 명령어로 웹 서버와 연동할 PHP 설치~~
```
// 이 명령어는 아니다.
sudo apt-get install php7.3-fpm
```
## SURY PHP PPA 저장소 추가
[관련 링크](https://tecadmin.net/how-to-install-php-on-debian-12/)
기본 Debian 12 저장소에는 PHP 8.3 및 PHP 7.4 패키지가 포함되어 있지만 **PHP 8.1, 7.3, 7.2 또는 5.6과 같은 다른 버전은 포함되어 있지 않습니다.**
따라서 최신 PHP 패키지를 제공하는 타사 저장소인 Ondřej Surý의 PHP 저장소를 추가하는 것이 좋습니다.
다음 명령을 실행하여 저장소를 추가하십시오.
```
sudo apt install -y apt-transport-https lsb-release ca-certificates wget

wget -O /etc/apt/trusted.gpg.d/php.gpg https://packages.sury.org/php/apt.gpg

echo "deb https://packages.sury.org/php/ $(lsb_release -sc) main" | sudo tee /etc/apt/sources.list.d/php.list 
```
그런 다음 새 저장소 추가를 반영하도록 시스템을 업데이트합니다.
```
sudo apt update 
```
***
# 자동설치하기
아래 명령어를 통해 자동 설치합니다.
```
sudo apt install php
```
설치된 버전은 `php -v`를 통해 확인 가능합니다.
## PHP파일 수정
설치를 마쳤으면 `/etc/php/8.2/cli`경로로 이동합니다.
![[Pasted image 20240420022911.png]]
해당 경로에서 `php.ini`파일을 수정합니다.
`cgi.fix_pathinfo`가 있는 구문을 찾고 주석을 해제합니다.
## lighttpd파일 수정
다음으로 /etc/lighttpd/conf-available/15-fastcgi-php-fpm.conf 파일을 올바른 값으로 조정해야 합니다.
`/etc/lighttpd/`경로로 이동합니다.
![[Pasted image 20240420023327.png]]
이후 `15-fastcgi-php.conf` 파일을 수정할 것입니다.
![[Pasted image 20240420024220.png]]
`broken`와 `socket`을 위와 같이 작성하고 나머지는 주석처리 하여 저장합니다.
fastcgi 구성을 활성화하려면 다음 명령을 실행하여 lighttpd를 재시작 합니다.
```
sudo lighttpd-enable-mod fastcgi 
sudo lighttpd-enable-mod fastcgi-php
service lighttpd force-reload 
```
Lighttpd를 활성화하기 전에 구성 파일을 수정할 수 있습니다.
이에 대한 정의는 구성 파일에 있습니다.
```
sudo xed /etc/lighttpd/lighttpd.conf
```
마지막으로 이러한 변경 후 Lighttpd를 다시 시작하여 새 구성을 활성화하십시오.
```
sudo /etc/init.d/lighttpd restart
```
