Logical Volume Manager
Logical Volume을 효율적이고 유연하게 관리하기 위한 커널의 한 부분이자 프로그램
+ 가상의 블록 장치(논리적 스토리지)를 생성할 수 있게 해준다.
+ 유연한 용량 조절이 가능
+ 편의에 따른 장치의 이름 지정

# 주요 용어
- PV(Physical Volume)
- PE(Physical Extent)
- VG(Volume Group)
- LV(Logical Volume)
- LE(Logical Extent)
## PV(Physical Volume)
LVM에서 블록 장치(하드 디스크)를 사용하려면 우선 PV로 초기화를 해야한다.
즉, 블록 장치 전체 또는 그 블록 장치를 이루고 있는 파티션들을 LVM에서 사용할 수 있게 변환하는 것.
## PE(Physical Extent)
PV를 구성하는 일정한 크기의 블록으로 LVM2에서의 기본크기는 4MB이다.
(lvm1과 lvm2가 있지만 여기서는 다루지 않는다.)
간단히 LVM2가 개선된 버전이다.

LV는 LE들과 1대1로 대응된다.
그렇기에 **항상 PE와 LE의 크기는 동일**하다.
![[Pasted image 20240426111533.png]]
즉, 위 사진과 동일하다.
물리 디스크들이 PV로 초기화 되었고, 각각의 PV들은 동일한 크기의 PE들로 구성된다. PE들의 집합이 PV인 것이다.

## VG(Volume Group)
PV들의 집합으로 LV를 할당할 수 있는 공간이다.
즉, PV들로 초기화된 장치들은 VG로 통합되게 된다.
![[Pasted image 20240426112035.png]]
위 사진을 보면, 사용자는 VG안에서 원하는대로 공간을 쪼개서 LV로 만들 수 있다.
## LV(Logical Volume)
사용자가 최종적으로 다루게 되는 논리 스토리지이다.
생성된 LV는 파일 시스템 및 어플리케이션 등으로 사용하게 된다.
LV를 구성하는 LE들은 PV의 PE들과 맵핑하며 존재한다.
LE와 PE가 맵핑되며 총 3가지 유형의 LV가 생성이 된다.
[출처](https://tech.cloud.nongshim.co.kr/2018/11/23/lvmlogical-volume-manager-1-%EA%B0%9C%EB%85%90/)를 통해 자세한 설명을 보도록 하자.
+ 선형(Linear) LV
+ 스트라이프(Striped) LV
+ 미러(Mirrored) LV
## LE(Logical Extent)
LV를 구성하는 일정한 크기의 블록으로 기본크기는 PE와 마찬가지로 4MB이다.
![[Pasted image 20240426113106.png]]
위 그림은 PV들의 집합을 VG1으로 만들고 LV1 LV2로 만든 모습이다.
꼭 VG의 모든 공간을 사용해야 하는 것은 아니다. 각각의 LV들은 동일한 크기의 LE들로 구성되며 PE들과 1대1로 맵핑된다.
***
LVM은 디스크나 대용량 스토리지 장치를 유연하고 확장이 가능하게 다룰 수 있는 기술이다.