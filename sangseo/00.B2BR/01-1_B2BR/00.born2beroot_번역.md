데비안 홈페이지에서 데비안 [`iso` 파일을 받아줍니다.](https://www.debian.org/)
이 프로젝트는 특정 규칙에 따라 첫 번째 서버를 설정하는 것으로 구성됩니다.
> [!abstract] note
!!서버를 구축하는 일이므로 최소한의 서비스만 설치하게 됩니다.  이러한 이유로 여기서는 그래픽 인터페이스가 쓸모가 없습니다.  따라서 X.org 또는 기타 동등한 그래픽 서버를 설치하는 것은 금지되어 있습니다.  그렇지 않으면 성적은 `0`이 됩니다.!!

> [!abstract] note
LVM을 사용하여 암호화된 파티션을 2개 이상 생성해야 합니다.  다음은 예상되는 분할의 예입니다.
![[Pasted image 20240406144237.png]]

^f91d36

> [!abstract] note
>💡 방어하는 동안 선택한 운영 체제에 대해 몇 가지 질문을 받게 됩니다. 예를 들어 aptitude와 apt의 차이점이나 `SELinux` 또는 `AppArmor`가 무엇인지 알아야 합니다. 즉, 사용하는 내용을 이해하십시오!

SSH 서비스는 포트 4242에서만 실행됩니다.
보안상의 이유로 SSH를 루트로 사용하여 연결하는 것이 불가능해야 합니다. ^019fe9
> [!abstract] note
> 💡 SSH 사용은 방어 중에 새 계정을 설정하여 테스트됩니다. 그러므로 그것이 어떻게 작동하는지 이해해야 합니다.

`UFW`(또는 Rocky의 경우 방화벽) 방화벽으로 운영 체제를 구성해야 하므로 포트 4242만 열어 두어야 합니다. ^00e18d

+ 호스트 이름은 42로 끝나는 로그인이어야 합니다^[[[02-0.B2BR (가상머신 실행)#호스트 이름 설정]]](예: `wil42`). 평가 중에 **`이 호스트 이름을 수정해야 합니다.`** ^7516b7
- 강력한 비밀번호 정책^[[[00.born2beroot_번역#비밀번호 정책]]]을 구현해야 합니다. ^60a90c
- 엄격한 규칙에 따라 `sudo`를 설치하고 구성해야 합니다.
- 루트 사용자 외에도 귀하의 로그인 이름을 사용자 이름으로 사용하는 사용자가 있어야 합니다. ^ff7393
- 이 사용자는 `user42` 및 `sudo` 그룹에 속해야 합니다. ^90f6ea

> [!abstract] note
> 💡 방어 중에는 새 사용자를 생성하여 그룹에 할당해야 합니다.

## 비밀번호 정책
> 강력한 비밀번호 정책을 설정하려면 다음 요구 사항을 준수해야 합니다.

- 귀하의 비밀번호는 30일마다 만료되어야 합니다. ^f6c463
- 비밀번호 수정까지 허용되는 최소 일수는 2일로 설정됩니다. ^d772f2
- 사용자는 비밀번호가 만료되기 7일 전에 경고 메시지를 받아야 합니다. ^1486a8
- 비밀번호는 10자 이상이어야 합니다. 대문자, 소문자, 숫자를 포함해야 합니다. 또한 동일한 문자가 3개 이상 연속해서 포함되어서는 안 됩니다. ^60a1f0
- 비밀번호에는 사용자 이름이 포함되어서는 안 됩니다. ^9cdaee
- 루트 비밀번호에는 다음 규칙이 적용되지 않습니다: 비밀번호는 이전 비밀번호에 포함되지 않는 7자 이상이어야 합니다. ^d64ae7
- 물론 루트 비밀번호는 이 정책을 준수해야 합니다. ^e0f16f

> [!abstract] note
>  구성 파일을 설정한 후에는 루트 계정을 포함하여 가상 머신에 있는 모든 계정의 비밀번호를 변경해야 합니다.
## sudo 그룹
`sudo` 그룹에 대한 강력한 구성을 설정하려면 다음 요구 사항을 준수해야 합니다.va

• 비밀번호가 잘못된 경우 `sudo`를 사용한 인증 시도는 3회로 제한됩니다.
• sudo 사용 시 잘못된 비밀번호로 인해 오류가 발생하는 경우 원하는 사용자 정의 메시지가 표시되어야 합니다.
• sudo를 사용하는 각 작업은 입력과 출력 모두 보관되어야 합니다.
	로그 파일은 /var/log/sudo/ 폴더에 저장되어야 합니다.
• 보안상의 이유로 TTY 모드를 활성화해야 합니다.
• 보안상의 이유로도 sudo에서 사용할 수 있는 경로는 제한되어야 합니다. `/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin` ^2be016
***
## Monitoring.sh

^731d37

마지막으로 monitoring.sh라는 간단한 스크립트를 생성해야 합니다. ^83f45f

서버 시작 시 스크립트는 10분마다 모든 터미널에 일부 정보(아래 나열)를 표시합니다(벽면을 살펴보세요). 배너는 선택사항입니다.

스크립트는 항상 다음 정보를 표시할 수 있어야 합니다.

+ 운영 체제의 아키텍처와 커널 버전.  ^b5578c
+ 물리적 프로세서의 수.  ^9f78af
+ 가상 프로세서의 수.  ^990e60
+ 현재 서버에서 사용 가능한 RAM 및 사용률(%)입니다. ^848f4c
+ 현재 서버에서 사용 가능한 메모리와 활용률(%)입니다.  ^09b42d
+ 프로세서의 현재 활용률(%)입니다.  ^8c0963
+ 마지막 재부팅 날짜 및 시간.  ^66ba48
+ `LVM`이 활성 상태인지 여부.  ^7f63d6
+ 활성 연결 수.  ^96b284
+ 서버를 사용하는 사용자 수.  ^979df6
+ 서버의 `IPv4` 주소 및 해당 MAC(미디어 액세스 제어) 주소.  ^90d3fa
+ `sudo` 프로그램으로 실행되는 명령의 수. ^ab6d98

> [!abstract] note
> 💡 방어하는 동안 이 스크립트가 어떻게 작동하는지 설명하라는 메시지가 표시됩니다. 또한 수정하지 않고 중단해야 합니다.

> [!abstract] note
다음은 스크립트가 어떻게 작동할 것으로 예상되는지에 대한 예입니다.

```bash
Broadcast message from root@wil (tty1) (Sun Apr 25 15:45:00 2021):
	#Architecture: Linux wil 4.19.0-16-amd64 #1 SMP Debian 4.19.181-1 (2021-03-19) x86_64 GNU/Linux
	#CPU physical : 1 
	#vCPU : 1 
	#Memory Usage: 74/987MB (7.50%) 
	#Disk Usage: 1009/2Gb (49%) 
	#CPU load: 6.7%
	#Last boot: 2021-04-25 14:45 
	#LVM use: yes 
	#Connections TCP : 1 ESTABLISHED 
	#User log: 1 
	#Network: IP 10.0.2.15 (08:00:27:51:9b:a5) 
	#Sudo : 42 cmd
```

^862cfc
